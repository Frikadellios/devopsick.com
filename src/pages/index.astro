---
import fetchApi from '../lib/strapi';
import type Article from '../interfaces/article';

const articles = await fetchApi<Article[]>({
  endpoint: 'articles?populate=*',
  wrappedByKey: 'data',
});
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Strapi & Astro</title>
  </head>

  <body>
    <main>
      <ul>
        {
          articles.map((article) => (
            <a href={`/blog/${article.attributes.slug}/`}>
              {article.attributes.title}
            </a>
            <div class="wrap">
  
  <div class="circle">

    <img src={import.meta.env.STRAPI_URL + article.attributes.image.data.attributes.url} />

    </div>
  
</div>
            
          ))
        }
      </ul>
    </main>
  </body>
</html>

<style>
  .wrap {
display: flex;
align-items: center;
justify-content: center;
height: 100vh;
}

.circle {
background: plum;
width: 350px;
height: 350px;
border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
overflow: hidden;
animation: morph 3s linear infinite;
}

.circle img {
width: 100%;
}


@keyframes morph{
0%, 100% {
border-radius: 40% 60% 70% 30% / 40% 40% 60% 50%;
}
34% {
  border-radius: 70% 30% 50% 50% / 30% 30% 70% 70%;
}
67% {
  border-radius: 100% 60% 60% 100% / 100% 100% 60% 60%;
}
}
</style>